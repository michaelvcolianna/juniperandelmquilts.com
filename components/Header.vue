<script setup>
const showDrafts = computed(() => process.env.NODE_ENV === 'development')

const vClickOutside = {
  mounted(el, binding) {
    el.clickOutsideEvent = (event) => {
      let menuToggle = document.querySelector('#menu-toggle')

      if(
        event.target.tagName.toLowerCase() === 'a'
        ||
        (
          !(el === event.target || el.contains(event.target))
          &&
          !(menuToggle === event.target || menuToggle.contains(event.target))
        )
      ) {
        binding.value()
      }
    }

    document.body.addEventListener('click', el.clickOutsideEvent)
  },
  unmounted(el) {
    document.body.removeEventListener('click', el.clickOutsideEvent)
  }
}

function toggleMenu(event) {
  document.documentElement.classList.toggle('menu-open')

  let menuToggle = document.querySelector('#menu-toggle')

  menuToggle.setAttribute(
    'aria-expanded',
    menuToggle.getAttribute('aria-expanded') === 'true'
      ? false
      : true
  )
}

function explicitlyCloseMenu(event) {
  if(document.documentElement.classList.contains('menu-open')) {
    document.documentElement.classList.remove('menu-open')
  }

  document.querySelector('#menu-toggle').setAttribute('aria-expanded', false)
}

function watchers() {
  if(process.client) {
    let resizeTimeout

    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout)

      resizeTimeout = setTimeout(() => {
        if(window.innerWidth >= 1024) {
          explicitlyCloseMenu()
        }
      }, 45)
    })

    window.addEventListener('keyup', (event) => {
      if(event.key.toLowerCase() === 'escape') {
        explicitlyCloseMenu()
      }
    })
  }
}

onMounted(() => {
  watchers()
})
</script>

<template>
  <div>
    <header>
      <button
        id="menu-toggle"
        aria-controls="main-nav"
        aria-expanded="false"
        @click="toggleMenu"
      >
        <span class="sr-only">Show/Hide Menu</span>
      </button>

      <NuxtLink to="/">
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 575.2 139.44" fill="currentColor" stroke="currentColor">
          <line stroke-width="1.6px" x1="325.79" y1="138.64" x2="397.79" y2="138.64"/>
          <path d="M326.87,118.75v1.14c0,.33-.29,.6-.64,.59-.2,0-.41-.01-.54-.02-.83-.08-1.89-.29-2.84-.81-.19-.11-.42-.11-.62,0-1.03,.55-2.2,.86-3.45,.86-4.1,0-7.44-3.37-7.44-7.51s3.34-7.5,7.44-7.5,7.44,3.37,7.44,7.5c0,1.55-.47,2.99-1.26,4.18-.24,.35-.03,.82,.41,.9,.33,.06,.64,.09,.89,.1,.34,.01,.61,.27,.61,.59Zm-3.15-5.77c0-2.85-2.22-5.18-4.94-5.18s-4.95,2.32-4.95,5.18,2.22,5.18,4.95,5.18c.54,0,1.07-.09,1.56-.26,.36-.13,.51-.52,.33-.84-.7-1.2-1.49-1.58-2.15-1.69-.31-.05-.53-.29-.53-.58v-1.16c0-.36,.34-.63,.72-.59,1.43,.17,2.62,.84,3.55,2.02,.3,.38,.93,.3,1.1-.14,.23-.6,.36-1.25,.36-1.94Z"/>
          <path d="M347.83,114.08c0,3.51-2.99,6.37-6.66,6.37s-6.66-2.86-6.66-6.37l-.02-7.96c0-.33,.28-.59,.63-.59h1.23c.35,0,.64,.26,.64,.59l.02,7.96c0,2.23,1.87,4.05,4.17,4.05s4.17-1.81,4.17-4.04l-.02-7.96c0-.33,.28-.59,.63-.59h1.22c.35,0,.64,.26,.64,.59v7.96Z"/>
          <path d="M359.71,106.15v13.55c0,.33-.29,.6-.64,.6h-1.21c-.35,0-.64-.27-.64-.6v-13.55c0-.33,.29-.6,.64-.6h1.21c.35,0,.64,.27,.64,.6Z"/>
          <path d="M377.71,118.6v1.13c0,.33-.29,.6-.64,.6h-8.44c-.35,0-.64-.27-.64-.6v-13.58c0-.33,.29-.6,.64-.6h1.21c.35,0,.64,.27,.64,.6v11.25c0,.33,.29,.6,.64,.6h5.95c.35,0,.64,.27,.64,.6Z"/>
          <path d="M394.04,106.14v1.14c0,.33-.29,.59-.64,.59h-3.09c-.35,0-.64,.27-.64,.59v11.3c0,.33-.29,.59-.64,.59h-1.23c-.35,0-.63-.26-.63-.59v-11.3c0-.33-.28-.59-.63-.59h-3.07c-.35,0-.64-.26-.64-.59v-1.14c0-.33,.29-.59,.64-.59h9.93c.35,0,.64,.27,.64,.59Z"/>
          <path d="M412.14,116.55c0,1.29-.6,2.43-1.68,3.21-.92,.66-2.12,1.02-3.39,1.02-.88,0-1.69-.14-2.41-.42v-.05h-.14c-1.39-.57-2.42-1.64-2.93-3.1-.12-.33,.11-.68,.47-.76l1.21-.25c.31-.06,.62,.1,.73,.38,.37,.94,1.2,1.87,3.07,1.87,.89,0,2.58-.4,2.58-1.9,0-1.11-1-1.63-3.12-2.49-2-.81-4.5-1.81-4.5-4.44,0-1.65,1.36-4.27,5.02-4.27,2.32,0,4.08,.93,5.12,2.69,.18,.31,.04,.7-.3,.84l-1.14,.45c-.29,.12-.63,.02-.79-.24-.6-.96-1.53-1.41-2.89-1.41-2.46,0-2.53,1.93-2.53,1.95,0,.99,.96,1.49,2.99,2.3,2.06,.83,4.63,1.86,4.63,4.63Z"/>
          <path d="M159.36,91.41c1.16-1.25,2.49-2.49,3.65-3.83,1.78-1.96,4.09-3.74,6.05-5.52,.62-.53,1.6-1.07,2.05-1.78,1.51-2.49,4.9-17.62,4.63-20.74,0-.62-.27-1.25-.36-1.87,.18-.62,.53-1.25,.89-1.69h.36c.98,.89,1.42,1.6,1.6,2.85,.89,4.72-1.87,13.08-2.85,17.71l.09,.36c1.42-.53,2.67-1.6,3.83-2.4,1.42-.89,11.39-7.48,12.82-7.39l.8,.71,.09,.36c.09,.36-.27,.71-.36,.98-3.56,1.42-8.99,5.79-12.19,7.74-1.16,.8-5.61,3.83-6.41,4.81-.36,.53-1.07,2.58-1.33,3.29-1.51,4.63-6.14,15.04-8.81,18.51-1.16,1.42-2.05,3.12-3.12,4.63-1.87,2.85-9.61,12.99-13.62,12.99-.53,0-.8,0-1.33-.18-.45-.45-.98-.8-1.25-1.33-.18-.45-.27-.8-.36-1.25-1.42-8.01,10.5-22.07,15.13-26.97Zm-12.37,26.79c1.25-.36,4.27-3.38,5.07-4.45,1.69-2.05,3.47-4.09,5.16-6.23,3.83-4.9,7.12-10.68,9.7-16.47,.8-1.6,1.6-3.2,2.05-4.9v-.18c-6.59,5.7-13.53,13.53-18.07,21-1.16,1.96-1.96,4-2.94,6.05-.53,1.42-1.25,3.56-.98,5.16Zm26.35-82.51l.36-.36c.8-.45,1.51-.71,2.4-.71h.71l.8,.36,.36,.36,.09,.53c-.27,.8-.89,.98-1.69,1.07-.09,.45-.44,.98-.89,1.16-.71-.27-1.51-.53-2.05-1.16l-.18-.89,.09-.36Z"/>
          <path d="M194.34,61.86c.62-.71,1.6-1.25,2.49-1.16l.27,.18c.27,.18,.44,.36,.44,.53l.53,.89v.71c-.36,.36-1.25,.45-1.51,.8-2.85,3.47-3.92,7.83-4.63,11.48l.09,.44,.44-.09c.71,.09,3.2-1.42,4.54-2.94,2.23-2.4,4.18-5.96,6.94-8.54,.53-.53,1.6-.98,2.67-.98,.53,0,1.07,.09,1.6,.44,.45,.71-.09,.71-.18,1.42-.89,3.47-3.12,10.95-.89,10.06,3.47-.18,17.18-18.51,25.28-18.69,1.69-.09,2.94,1.25,2.85,3.65,.09,2.31-1.78,7.3-1.87,7.74,.89-2.67,7.83-10.59,12.19-10.59,1.6,0,2.23,1.07,2.76,2.58,1.25,3.47-4.18,16.55,1.42,16.91,11.3,.62,19.05-12.19,20.56-12.19,.09,0,.27,.09,.36,.27l.27,.36c-.98,4.09-12.37,13.97-19.49,13.88-5.43-.09-7.3-2.85-7.65-7.3-.27-3.29,2.94-11.75,1.78-11.84-3.56-.8-12.19,11.13-15.04,17.36-.18,.45-.53,1.25-.89,1.69,0,.27-.18,.44-.44,.62-.18,.18-1.34,.18-1.69,.18-.27-.18-.71-.36-.8-.53-.18-.27-.18-.53-.27-.8-.09-.36-.09-.8,.09-1.16,3.29-6.5,8.28-18.25,5.43-18.69-3.65-.62-20.74,20.03-25.28,19.49-4.98-.62-3.03-8.54-1.6-11.04h-.18c-3.92,4.09-6.32,8.99-12.02,11.12-1.51,.18-3.47,.18-3.83-2.05-.71-3.65,2.58-10.95,5.25-14.24Z"/>
          <path d="M271.06,78.06c2.14,.18,8.1-.71,17.89-12.28,1.07-.62,1.25-.18,1.16,1.33-.98,3.56-12.1,13.71-19.58,13.17-4.63-.36-5.43-5.88-4.72-8.9,.89-3.83,3.92-10.68,6.41-13.53,.45-.36,.8-.53,1.16-.53,.44,0,.98,.27,1.51,.71l1.16,.98c.18,.98,.53,1.6,.27,2.49-.36,.62-1.96,1.42-2.58,1.25-2.58,2.14-9.79,15.67-2.67,15.31Zm4.54-27.77c1.25,0,3.03,.8,3.29,2.23l.09,.53-.27,.36-.36,.18h-.45l-.8-.36c-.98,0-2.67-.53-2.85-1.78l-.18-.62c.53-.62,.71-.53,1.51-.53Z"/>
          <path d="M267.32,117.22c1.78-11.39,5.61-21.9,11.3-31.51,1.07-1.78,5.16-7.39,5.61-8.81,2.31-8.19,3.92-13.97,7.57-21.98,.18-.09,.71-.36,.98-.36,.53,0,.71,.27,1.07,.71l.09,.53c.09,.09,.18,3.47,.18,3.65-.27,1.25-5.96,12.19-5.96,12.28v.18h.18c3.2-3.83,14.6-17,19.94-17,.18,0,1.51,.62,1.78,.71,.98,.8,1.16,1.42,1.33,2.58,.71,4.18-2.67,11.48-7.3,16.55,2.31,0,5.16-.09,8.01-.62,6.85-1.33,16.64-4.45,18.42-7.03,1.16-1.78,1.6-2.58,2.23-2.58,.71,0,1.07,1.16-.27,3.12-2.85,4.27-12.99,7.3-20.47,8.63-3.47,.53-7.03,.45-9.61,.27-2.67,2.49-5.61,4.09-8.28,4.09-2.05,0-4.09-1.33-4.54-3.56-.09-.62,0-1.51,.18-2.05h-.18c-.8,1.07-2.05,2.23-2.67,3.56-.45,.89-1.16,4.54-1.34,5.7-1.96,8.72-11.84,37.74-15.49,40.67-.18,.09-.53,.18-.89,.18h-.45c-1.16-.62-1.33-1.07-1.6-2.14-.27-1.87-.09-4,.18-5.79Zm2.67,2.4c1.16-1.16,12.28-31.69,11.75-33.55-.98,1.25-1.69,2.85-2.49,4.27-4.09,7.39-7.12,15.49-8.72,24.12-.27,1.6-.89,3.47-.53,5.16Zm12.02-33.82q0-.09-.09-.09v.18q.09,0,.09-.09Zm9.79-13.17c.09,.09,.27,.18,.36,.27-.09-.18-.18-.45-.27-.62l-.18,.18,.09,.18Zm.36,4.18l.09,.62,.44,.45c.36,.18,.71,.18,1.07,.18,1.07,0,2.67-.8,4.01-1.69-1.87-.18-3.56-.71-4.81-2.22v.18c0,.27-.27,.62-.36,.89-.09,.62-.53,.98-.45,1.6Zm1.96-4.98c.53,2.23,3.56,2.76,5.87,2.85,3.65-3.2,9.7-12.02,8.72-17-.09-.09-.27-.09-.36-.09-3.11,0-10.41,7.83-14.51,12.46,.09,.62,.18,1.16,.27,1.78Z"/>
          <path d="M331.22,63.1c1.51-1.96,4.18-5.34,7.12-5.25,1.42,.09,2.31,.98,2.49,2.49,.44,3.56-3.74,6.85-6.5,8.01-.71,.36-2.58,.44-3.2,1.16-.44,.8-.27,2.76-.09,3.65,0,.09,.18,.71,.27,.8,1.33,2.22,3.65,3.12,6.41,3.12,9.52,0,24.65-10.41,29.28-16.56,0-.09-.09-.09-.09-.18-1.78-6.5,1.16-12.19,5.43-12.19,1.16,0,2.4,.71,2.49,2.31,.09,2.22-1.6,6.14-3.47,8.19,.45-.09,1.16-.18,2.23,.09,4.63,.98,.71,7.57-.09,9.61-.8,2.05-4.99,6.14-2.94,7.74,.27,.27,.71,.36,1.33,.36,3.56,0,11.93-4.01,18.6-11.93,.45-.62,1.96,.53,.62,1.96-1.25,1.42-4.63,6.32-16.82,11.84-.62,.27-1.6,.53-2.49,.53-2.05,0-4.27-.89-4.54-3.74-.36-2.94,8.1-12.73,5.96-14.15-1.07-.62-2.76,.09-4.27,.18-3.03,6.76-20.92,18.42-31.77,18.42-3.65,0-6.5-1.25-7.74-4.54,0-.27-1.07-2.14-1.07-2.31-.62-3.65,.8-7.03,2.85-9.61Zm2.05,2.76c1.33,.09,5.34-4,5.07-5.43h-.18c-.09,0-.53,.18-.71,.18-1.51,1.42-3.56,3.11-4.36,5.25h.18Zm38.45-15.31c-1.34,.18-2.58,3.12-3.12,7.3,.53-.53,5.7-7.03,3.12-7.3Z"/>
          <path stroke-miterlimit="10" stroke-width="1.8px" d="M434.77,61.95c.85,0,1.02,2.12,1.02,3.06,0,3.06-1.53,6.12-3.32,8.33,1.02,2.63,1.79,5.7,1.79,8.76,0,5.36-3.06,9.61-7.23,10.03-.59,.08-.77-.93-.17-.93,3.91,0,6.63-4.68,6.63-9.01,0-2.64-.85-5.7-1.61-8.08-2.89,3.32-7.14,5.78-11.48,5.78-5.27,0-9.86-3.14-9.86-8.58,0-6.89,6.04-12.67,12.24-17.34-.51-1.79-.77-3.49-.77-5.53,0-5.27,3.15-11.31,9.18-11.31,2.81,0,5.02,1.45,5.02,4.08,0,5.53-8.59,10.37-12.41,13.35,1.02,3.49,2.89,6.89,4.59,10.2,1.27,2.55,2.8,5.1,3.74,7.82,1.45-1.96,2.89-4.93,2.89-7.31,0-.85-.34-1.7-.68-2.63-.17-.51,.17-.68,.42-.68Zm-3.23,11.31c-1.02-2.55-2.29-5.19-3.66-7.74-1.79-3.4-3.57-6.89-4.67-10.46-6.04,4.59-11.82,9.78-11.82,16.24,0,5.1,4.08,7.91,8.93,7.91,4.34,0,8.5-2.63,11.22-5.95Zm-7.99-19.81c3.15-2.38,11.82-7.4,11.82-12.16,0-2.29-1.7-3.49-4.17-3.49-5.61,0-8.33,5.7-8.33,10.46,0,1.79,.17,3.49,.68,5.19Z"/>
          <path d="M462.36,63.1c1.51-1.96,4.18-5.34,7.12-5.25,1.42,.09,2.31,.98,2.49,2.49,.45,3.56-3.74,6.85-6.5,8.01-.71,.36-2.58,.44-3.12,1.16-.53,.8-.36,2.76-.18,3.65,0,.09,.18,.71,.27,.8,1.87,3.03,5.07,4.18,8.72,4.18,9.08,0,21-7.12,23.14-11.04,.36-.45,1.25-.53,.8,.98-1.6,5.34-14.6,12.28-24.48,12.28-4.9,0-9.08-1.69-10.77-6.14-.09-.27-.36-1.33-.36-1.51-.62-3.65,.8-7.03,2.85-9.61Zm1.87,2.76h.18c1.33,.09,5.34-4,5.16-5.43h-.18c-.09,0-.62,.18-.8,.18-1.51,1.42-3.56,3.11-4.36,5.25Z"/>
          <path d="M492.18,68.44c.27-.8,.71-1.51,.98-2.4,1.96-10.24,23.67-45.84,31.42-45.84h.53c.45,.27,.89,.53,1.33,.89,.18,.36,.45,.62,.53,.98,1.6,5.79-9.52,21.72-12.37,25.54-2.94,4.27-6.5,8.19-9.97,12.02-1.78,1.96-3.83,3.83-5.7,5.87-1.16,1.07-2.76,2.31-3.56,3.65-.27,.27-.27,.89-.44,1.25-.53,1.96-.62,10.86,4.45,10.86,8.01,0,20.56-10.86,23.94-15.84,.89,.36,.71,.89,.62,2.05-.09,3.29-15.13,16.11-24.12,16.11s-8.63-11.13-7.65-15.13Zm5.43-5.87v.18h.18c7.74-7.74,14.95-16.2,20.47-25.81,1.6-2.76,3.29-5.43,4.45-8.46,.36-.89,1.96-4.54,1.6-5.34h-.36c-8.1,5.43-23.14,29.91-26.35,39.43Z"/>
          <path d="M521.37,69.15c1.87-3.03,3.2-6.23,4.98-9.43,.89-1.6,2.58-6.23,4.09-6.76,.18-.09,.36-.18,.71-.18h.53c.36,.18,.71,.45,.8,.71,.18,.62-.98,1.16-1.16,1.6-.71,1.42-1.25,2.94-1.96,4.27l.09,.36c1.6-.53,1.78-1.6,3.83-1.6,1.69,0,2.58,.89,2.94,2.4,.62,3.03-1.25,7.83-.98,8.72,3.03-3.47,12.1-12.19,16.73-12.19,1.33,0,2.23,.8,2.58,2.05,.8,3.56-5.7,13.35-3.92,18.78l.18,.62c.53,.27,1.25,.27,1.87,.27,7.12,.27,19.23-10.68,21.09-13.08,.36-.45,.62-.62,.8-.62,.53,0,.71,1.07,.53,1.42-1.42,4.09-14.86,15.04-22.52,14.6-2.14-.09-4.63-1.07-5.16-3.38-1.25-5.25,4.54-16.47,4.27-18.16l-.09-.18c-.8,0-1.34,.44-1.96,.89-6.76,4.45-10.77,9.17-15.93,14.86-.36,.36-.62,.53-1.07,.53-.89,0-1.6-.53-1.87-1.33-.36-1.33,3.56-10.15,2.76-13.53,0-.09-.18-.36-.27-.36-.18,0-1.16,.53-1.42,.71-3.12,2.14-6.59,6.5-8.28,9.61-.62,1.25-4.54,9.43-5.34,9.43h-1.33c-.45-.27-.89-.8-.98-1.25-.27-1.69,4.36-8.19,5.43-9.79Z"/>
          <path stroke-miterlimit="10" stroke-width="0.8px" d="M59.41,23.84c-1.36,0-2.66,0-3.97,0-1.31,0-2.62,0-3.93,0-1.31,0-2.62,0-3.93,0-1.31,0-2.62,.02-3.93,.01-1.29-.01-2.59,.07-3.81-.04-.27-.49,.02-.69,.22-.91,2.01-2.23,4.03-4.45,6.04-6.68,4.55-5.07,9.09-10.15,13.64-15.23,.2-.23,.38-.49,.68-.6,.46,0,.66,.38,.91,.65,1.9,2.12,3.8,4.25,5.7,6.37,3.83,4.27,7.66,8.54,11.48,12.82,.72,.8,1.44,1.6,2.16,2.41,.23,.25,.49,.48,.57,.78-.07,.36-.31,.39-.54,.4-.38,.02-.77,.02-1.15,.02-5.7,0-11.4,0-17.1,0-.41,0-.82,.01-1.29,.02,.43,.8,5.6,6.69,9.99,11.45,5.81,6.29,9.41,10.4,9.87,11.26-.08,.29-.32,.3-.55,.31-.38,.02-.77,.03-1.15,.03-5.62,0-11.24,0-16.86,0-.42,0-.85-.08-1.25,.1-.07,.38,.24,.55,.43,.76,3.89,4.37,7.79,8.73,11.7,13.09,2.29,2.55,4.59,5.09,6.87,7.65,.3,.33,.67,.63,.78,1.07-.11,.33-.37,.31-.59,.32-.38,.01-.77,.01-1.16,.01-5.66,0-11.32,0-16.98,0-.42,0-.84,0-1.25,0-.15,.44,.18,.61,.36,.82,2.27,2.56,4.55,5.12,6.84,7.67,4.03,4.5,8.08,8.99,12.11,13.49,.2,.22,.45,.43,.47,.77-.08,.28-.32,.31-.55,.32-.35,.01-.69,.01-1.04,.01-5.66,0-11.32,0-16.98,0-.45,0-.92-.05-1.29,.06-.28,.29-.24,.57-.24,.83,0,.96,0,1.93,0,2.89,0,13.25,0,26.49,0,39.74,0,.49-.08,1,.1,1.47,.31,.27,.67,.19,1.01,.19,1.58,0,3.16-.01,4.74-.02,.27,0,.56-.03,.66,.31,.07,.26-.2,.45-.65,.45-3.23,0-6.47-.03-9.7-.04-.58,0-1.15,.02-1.73,.03-.23,0-.46,0-.69-.03-.2-.03-.35-.18-.32-.4,.02-.16,.13-.28,.3-.3,.23-.02,.46-.01,.69-.01,1.42,0,2.85,.01,4.27,.01,.15,0,.3-.04,.45-.06,.33-.38,.21-.82,.21-1.23,0-4.35,0-8.7,0-13.05,0-9.74,0-19.48,0-29.22,0-.49,.06-.99-.13-1.54-.97-.13-1.92-.05-2.87-.06-1-.01-2,0-3,0-.96,0-1.93,0-2.89,0-1,0-2,0-3,0-.96,0-1.93,.01-2.89,.01-1,0-2,.01-3,0-.95-.01-1.91,.06-2.78-.03-.26-.4-.07-.61,.11-.81,.65-.71,1.31-1.41,1.95-2.13,5.73-6.39,11.46-12.79,17.18-19.19,.2-.22,.47-.4,.53-.8-.37-.24-.8-.14-1.2-.14-5.01,0-10.01,0-15.02,.02-.92,0-1.85,.02-2.77,.04-.27,0-.53,0-.71-.16-.15-.39,.1-.56,.27-.75,4.82-5.35,9.64-10.7,14.45-16.05,1.57-1.75,3.12-3.51,4.68-5.27,.17-.19,.39-.37,.46-.69-.41-.25-.84-.14-1.24-.14-5.08,0-10.16,.02-15.25,.03-.85,0-1.69,0-2.54,.02-.31,0-.62,.03-.81-.26-.08-.29,.09-.45,.25-.62,6.41-7.13,12.81-14.26,19.22-21.39,.17-.19,.42-.35,.4-.83m1.17-22.68s-.09,0-.11,0c-.12,.09-.26,.16-.36,.27-6.4,7.14-12.79,14.28-19.18,21.42-.02,.03-.03,.07-.03,.11,0,.04,0,.08,.03,.21,5.94,.03,11.9,.06,17.86,.09,.27,0,.54,0,.81-.01,.11,0,.21-.08,.32-.12,.15-.25,.12-.53,.12-.79,0-.77,0-1.54,0-2.31,0-1.69,0-3.39,.01-5.08,0-.32-.12-.71,.32-.92,.36,.21,.31,.58,.32,.91,0,1.19,0,2.39,.01,3.58,0,.25-.1,.54,.24,.76,.42-.11,.79-.39,1.17-.64,.19-.12,.39-.24,.6-.33,.16-.06,.32,.03,.36,.19,.03,.09,0,.25-.06,.31-.14,.13-.31,.22-.48,.31-.44,.23-.89,.45-1.33,.69-.25,.13-.47,.3-.48,.6-.02,.91-.09,1.83,.04,2.7,.3,.17,.53,.14,.76,.14,1.5,0,3-.01,4.5-.01,4.35,0,8.7,0,13.05-.01,.36,0,.75,.09,1.09-.15-.65-.98-18.17-20.58-19.57-21.9m-.63,69.39c-.27-.01-.36,.12-.46,.23-.8,.88-1.61,1.76-2.4,2.65-3.57,3.99-7.14,7.98-10.7,11.96-1.8,2.01-3.6,4.01-5.39,6.03-.21,.24-.52,.45-.5,.82,.13,.06,.19,.12,.26,.12,.23,.02,.46,.02,.69,.02,6.08,0,12.16-.01,18.25-.02,.04,0,.07-.02,.11-.03,.03-.02,.06-.05,.09-.08,.17-.83,.24-19.74,.07-21.71m.01-22.92c-.47,.19-.64,.51-.86,.76-3.22,3.57-6.43,7.15-9.64,10.73-2.8,3.12-5.59,6.25-8.38,9.38-.19,.21-.5,.38-.43,.79,.19,.01,.38,.04,.57,.04,6.15,0,12.31-.02,18.46-.03,.04,0,.08-.01,.11-.03,.03-.02,.06-.05,.18-.18,.08-2.19,.05-4.49,0-6.72-.46-.39-.93-.56-1.38-.79-.62-.31-1.24-.62-1.86-.93-.21-.11-.38-.27-.31-.54,.13-.2,.31-.24,.5-.14,.24,.12,.46,.27,.7,.41,.72,.42,1.43,.83,2.33,1.02v-13.77Zm.89-23c-.24,.58-.16,1.01-.16,1.42,0,4.5,0,9,0,13.49,0,1.85,0,3.69,0,5.54,0,.37-.1,.77,.21,1.1,.48,.18,.98,.1,1.48,.1,5.46,0,10.92,0,16.38,0,.4,0,.82,.09,1.32-.18-6.38-7.21-12.76-14.27-19.23-21.46m-3.72,10.94c.22-.24,.42-.14,.58,.05,.47,.56,.92,1.14,1.39,1.7,.21,.25,.38,.58,.75,.64,.19-.1,.16-.27,.16-.41,0-4.12,0-8.24,0-12.36,0-.17,.04-.4-.23-.45-.37,.22-.61,.58-.89,.89-1.93,2.14-3.86,4.29-5.79,6.44-4.01,4.47-8.01,8.95-12.01,13.42-.17,.19-.43,.35-.33,.68,.25,.15,.53,.11,.79,.11,5.81,.01,11.62,.02,17.44,.02,.3,0,.62,.05,.9-.19,.03-.08,.09-.19,.09-.3,.01-2.08,.01-4.16,.03-6.23,0-.37-.15-.65-.4-.92-.71-.76-1.4-1.54-2.09-2.31-.2-.22-.47-.41-.39-.78m3.69,33.65c.16,.05,.26,.11,.37,.11,6.19,0,12.38-.01,18.58-.02,.04,0,.08-.02,.11-.04,.02-.02,.02-.07,.04-.11-.71-1.08-18.27-20.64-19.07-21.24-.03,.02-.07,.04-.08,.06-.03,.19-.06,.38-.06,.57,0,3.96,.02,7.92,.03,11.88,0,.03,.03,.07,.05,.1,.02,.03,.05,.04,.13,.1,.51-.15,.85-.58,1.25-.92,.23-.2,.46-.41,.7-.59,.09-.07,.22-.06,.32,.02,.14,.12,.12,.28,.03,.41-.09,.12-.2,.23-.32,.33-.45,.36-.86,.79-1.36,1.07-.72,.4-.85,.98-.84,1.73,.04,1.81,.01,3.62,.01,5.42,0,.34-.04,.69,.12,1.11m.04,23.06c1.02,.19,17.93,.18,18.84,0,.06-.13,0-.23-.07-.31-6.16-6.87-12.32-13.74-18.49-20.61-.08-.09-.17-.16-.3-.12-.16,.09-.14,.26-.14,.4,0,4.42,0,8.85,0,13.27,0,.18-.03,.39,.26,.49,.14-.07,.32-.13,.47-.23,.63-.44,1.25-.89,1.88-1.34,.19-.13,.37-.28,.56-.4,.13-.08,.3-.11,.42,.03,.11,.14,.07,.3-.06,.4-.15,.12-.31,.23-.47,.33-.79,.54-1.57,1.11-2.39,1.61-.53,.32-.71,.73-.7,1.33,.03,1.46,0,2.92,.01,4.38,0,.26-.04,.54,.17,.76"/>
          <path stroke-width="0.75px" d="M120.38,98.08c-.28,.48-.65,.4-.99,.4-1.58,0-3.16,0-4.74-.01-3.73,0-7.47-.02-11.2-.02-.42,0-.84-.04-1.18,.08-.3,.31-.24,.63-.25,.93,0,1.04,0,2.08,0,3.12,0,11.32,0,22.64,0,33.96,0,.49-.09,1,.11,1.45,.25,.24,.53,.2,.79,.2,1.08,0,2.16,0,3.23,0,.23,0,.46-.01,.69,0,.21,.01,.38,.13,.39,.35,.01,.22-.14,.34-.35,.38-.11,.02-.23,.02-.34,.02-3.35,0-6.7,0-10.05,0-.23,0-.46-.01-.68-.07-.15-.04-.24-.2-.19-.36,.03-.1,.12-.23,.2-.25,.22-.05,.46-.06,.69-.06,1.19,0,2.39,0,3.58,0,.38,0,.76,.04,1.16-.1,.03-.17,.09-.32,.09-.46,0-12.9,0-25.79-.01-38.69,0-.11-.07-.21-.11-.35-.44-.18-.9-.12-1.35-.12-4.97,0-9.93,0-14.9,0-.45,0-.92,.1-1.31-.17-.15-.47,.19-.69,.4-.93,1.15-1.3,2.31-2.58,3.46-3.87,3.62-4.05,7.24-8.09,10.86-12.14,.74-.83,1.49-1.66,2.23-2.5,.15-.17,.27-.35,.43-.58-.46-.26-.89-.16-1.29-.16-4.89,0-9.78,0-14.67,0-.38,0-.77,0-1.15-.03-.2,0-.38-.07-.5-.28,.01-.45,.39-.71,.66-1.01,2.77-3.1,5.56-6.18,8.33-9.28,2.54-2.84,5.08-5.68,7.62-8.53,.27-.31,.61-.58,.77-1.06-.42-.24-.84-.15-1.24-.15-4.81,0-9.62,0-14.44,0-.38,0-.77,0-1.15-.02-.23-.01-.47-.04-.61-.34,.09-.44,.46-.74,.76-1.08,1.64-1.84,3.29-3.67,4.93-5.5,3.65-4.07,7.29-8.15,10.94-12.22,.51-.57,.97-1.19,1.58-1.61,.46,0,.65,.32,.87,.57,2.08,2.32,4.16,4.65,6.24,6.97,3.65,4.07,7.31,8.13,10.96,12.2,.2,.22,.49,.4,.44,.77-.21,.38-.59,.29-.92,.29-1.66,0-3.31,0-4.97-.01-3.5,0-7.01-.02-10.51-.02-.3,0-.62-.05-.91,.09-.17,.34,.13,.48,.29,.67,2.22,2.51,4.45,5.01,6.68,7.5,3.01,3.35,6.02,6.7,9.03,10.05,.36,.4,.73,.79,1.1,1.19,.16,.17,.34,.33,.26,.61-.22,.36-.6,.25-.93,.25-1.77,0-3.54-.01-5.31-.02-3.43,0-6.85-.01-10.28-.01-.27,0-.54-.04-.87,.14,.36,.61,.9,1.06,1.33,1.58,.44,.53,.92,1.04,1.38,1.55,.43,.49,.86,.98,1.3,1.47,.46,.52,.93,1.03,1.4,1.54,.46,.52,.92,1.04,1.38,1.55,.46,.52,.92,1.03,1.39,1.55,.44,.49,.88,.97,1.32,1.45,.46,.51,.93,1.03,1.39,1.55,.46,.52,.92,1.04,1.38,1.55,.46,.52,.93,1.03,1.39,1.54,.44,.49,.88,.97,1.32,1.46,.46,.52,.93,1.03,1.37,1.56,.43,.52,1.02,.92,1.3,1.49m-18.15-48.33c.56-.55,1.03-1.15,1.51-1.74,.14-.18,.25-.4,.49-.47,.07-.02,.18-.03,.21,.01,.07,.08,.16,.21,.14,.28-.06,.18-.16,.35-.28,.49-.58,.67-1.16,1.34-1.77,1.97-.35,.36-.51,.74-.5,1.23,.02,1.58,0,3.16,.01,4.73,0,.26-.03,.55,.21,.75,1.08,.17,15.79,.14,16.69-.04-.05-.1-.07-.22-.14-.3-5.6-6.25-11.2-12.5-16.8-18.74-.07-.08-.19-.11-.39-.21-1.43,1.58-2.88,3.17-4.32,4.77-1.44,1.6-2.89,3.2-4.32,4.81-1.44,1.61-2.88,3.21-4.3,4.83-1.41,1.61-2.91,3.14-4.35,4.98,.65,0,1.1,.02,1.56,.02,4.7,0,9.39,0,14.09,0,.44,0,.92,.12,1.39-.24v-1.23c0-2.81,0-5.62,0-8.43,0-.4-.09-.83,.16-1.16,.41-.04,.47,.2,.48,.43,.03,.73,.01,1.46,.04,2.19,.01,.33-.1,.68,.2,1.07m16.86,27.57c-.38-.44-.65-.76-.93-1.07-3.38-3.78-6.77-7.57-10.15-11.35-1.69-1.89-3.39-3.78-5.09-5.66-.21-.23-.35-.62-.78-.54-.15,.28-.11,.56-.11,.82,0,3.46,0,6.92,0,10.39,0,2.12-.01,4.23,0,6.35,0,.37-.1,.77,.19,1.09,.9,.15,15.64,.15,16.86-.02m.1,20.43c-.18-.51-.46-.72-.69-.98-1.77-1.98-3.55-3.95-5.32-5.93-3.39-3.78-6.78-7.57-10.18-11.34-.24-.27-.42-.65-.89-.72-.03,.19-.08,.34-.08,.48,0,3.93,0,7.85,0,11.78,0,.17-.05,.4,.26,.48,.51-.29,.91-.77,1.37-1.17,.17-.15,.36-.32,.63-.08,.07,.24-.09,.4-.26,.55-.47,.4-.93,.81-1.42,1.18-.41,.3-.6,.65-.59,1.16,.02,1.27,0,2.54,0,3.81,0,.26-.02,.55,.3,.77h16.86Zm-34.73-20.42c1.28,.2,15.89,.17,16.87-.05,.02-2.18,.01-4.39,0-6.51-.82-.8-1.83-1.2-2.39-2.26,1.12-.09,1.39,1.13,2.29,1.21,.04-.14,.09-.24,.09-.35,0-3.5,0-7-.01-10.49,0-.04-.01-.08-.04-.1-.03-.02-.07-.02-.11-.03-.73,.6-15.49,17.01-16.71,18.59m16.88,14.42v-4.36c0-1.35,.02-2.69,0-4.04-.02-1.35,.11-2.72-.08-4.14-1.17,.97-16.03,17.6-16.51,18.45,.14,.18,.34,.13,.52,.13,.65,0,1.31,0,1.96,0,4.23,0,8.47,0,12.7,0,.45,0,.92,.1,1.37-.2v-5.09c-.9-.62-1.79-1.23-2.67-1.85-.19-.13-.36-.28-.52-.44-.04-.04-.03-.15-.01-.22,.04-.12,.15-.17,.27-.16,.29,.02,.47,.24,.69,.4,.68,.48,1.33,1.03,2.29,1.51"/>
          <path stroke-width="0.75px" d="M19.44,138.03c.38,.21,.73,.14,1.07,.15,1.12,0,2.23,0,3.35,0,.23,0,.46,0,.69,0,.25,0,.49,.07,.51,.35,.02,.28-.21,.38-.46,.4-.19,.01-.38,0-.58,0-3.27,0-6.54,0-9.82,0-.57,0-.86-.15-.79-.42,.11-.41,.46-.34,.76-.34,1.04,0,2.08,0,3.12,.01,.38,0,.76,0,1.04,0,.35-.28,.29-.56,.3-.82,.01-.27,0-.54,0-.81,0-12.17,0-24.33,0-36.5v-1.3c-.38-.41-.79-.3-1.16-.3-3.66,0-7.32,0-10.97,0-1.73,0-3.46,.01-5.2,.02-.19,0-.39,0-.57-.03-.31-.05-.45-.35-.3-.6,.08-.13,.18-.25,.28-.36,4.17-4.64,8.34-9.27,12.51-13.91,1.41-1.58,2.81-3.16,4.22-4.75,.14-.16,.37-.29,.32-.63-.37-.2-.8-.1-1.2-.1-4.97,0-9.93,.02-14.9,.02-.4,0-.86,.15-1.2-.32,.28-.77,1.01-1.2,1.5-1.81,.51-.63,1.07-1.21,1.61-1.81,.54-.6,1.07-1.21,1.61-1.81,.54-.6,1.09-1.19,1.63-1.79,.54-.6,1.08-1.21,1.62-1.81,.51-.57,1.03-1.15,1.54-1.72,.54-.6,1.08-1.2,1.62-1.8,.54-.6,1.08-1.2,1.62-1.8,.54-.6,1.08-1.2,1.62-1.8,.54-.6,1.07-1.21,1.61-1.82,.53-.6,1.06-1.2,1.64-1.85-.45-.28-.84-.19-1.2-.19-5.04,0-10.09,.02-15.13,.03-.31,0-.62,0-.92-.04-.25-.03-.38-.33-.24-.53,.1-.16,.23-.3,.36-.45,5.42-6.05,10.84-12.1,16.28-18.13,.53-.59,.98-1.28,1.67-1.66,.46,.12,.69,.45,.94,.73,3.41,3.82,6.82,7.64,10.24,11.45,2.11,2.35,4.22,4.69,6.33,7.04,.33,.37,.72,.7,.88,1.14-.07,.35-.31,.39-.53,.4-.38,.02-.77,.02-1.15,.02-4.81,0-9.63,0-14.44,0-.42,0-.84,0-1.26,0-.14,.46,.19,.62,.37,.82,3.79,4.25,7.59,8.5,11.39,12.75,1.62,1.81,3.25,3.6,4.87,5.41,.28,.31,.59,.6,.7,.96-.11,.36-.35,.37-.58,.39-.35,.02-.69,.02-1.04,.01-4.85,0-9.7,0-14.55,0-.45,0-.91-.08-1.43,.17,.87,1.24,1.92,2.24,2.87,3.33,.96,1.1,1.94,2.19,2.91,3.28,1,1.12,2.01,2.23,3.01,3.35,.98,1.09,1.95,2.18,2.93,3.27,.98,1.09,1.96,2.17,2.93,3.27,.96,1.09,1.97,2.13,2.83,3.2-.13,.42-.36,.47-.59,.48-.35,.02-.69,.02-1.04,.02-4.85,0-9.7,0-14.55,0-.46,0-.92-.06-1.36,.09-.26,.2-.23,.49-.24,.75-.01,.27,0,.54,0,.81,0,12.17,0,24.33,0,36.5,0,.49-.08,.99,.11,1.44m-.94-81.07c.03-.07,.1-.13,.1-.2,.02-1.85,.02-3.69,.04-5.54,0-.34-.17-.57-.38-.8-.65-.71-1.29-1.42-1.93-2.14-.21-.23-.39-.48-.06-.76,.45,.03,.56,.4,.78,.65,.23,.26,.45,.53,.67,.79,.24,.28,.42,.63,.81,.76,.18-.35,.1-.66,.11-.96,.01-.65,0-1.31,.01-1.96,0-.28-.1-.65,.3-.78,.22-.07,.35,.21,.37,.83,0,.27,0,.54,0,.81,0,2.69,0,5.39,0,8.08,0,.41-.07,.84,.1,1.17,.3,.23,.58,.18,.85,.18,5.12,0,10.23,0,15.35,0,.2,0,.47,.11,.58-.25-.19-.22-.39-.45-.59-.68-1.62-1.81-3.23-3.61-4.85-5.42-3.75-4.18-7.5-8.36-11.25-12.54-.17-.19-.32-.44-.63-.44-.25,.08-.38,.28-.53,.45-2.31,2.58-4.62,5.15-6.93,7.73-3.08,3.44-6.16,6.88-9.23,10.33-.19,.21-.51,.37-.37,.82,5.41,0,10.83,0,16.25,0,.15,0,.31-.01,.42-.15m.02,1.59c-.13-.03-.21,.04-.29,.13-5.48,6.14-10.97,12.28-16.45,18.42-.04,.04-.01,.14-.02,.22,.19,.19,.43,.12,.65,.12,5.12,.01,10.24,.02,15.35,.02,.26,0,.54,.04,.76-.17,.16-.92,.17-17.78,0-18.74M1.49,97.52l.09,.28c5.46,0,10.92,0,16.38,0,.19,0,.39,0,.53-.15,.04-.07,.1-.14,.1-.21,.01-1.5,.02-3,.03-4.5,0-.34-.17-.57-.42-.78-.57-.46-1.13-.93-1.68-1.41-.18-.16-.31-.36,.01-.61,.78,.26,1.15,1.18,2.04,1.43,.02-.26,.05-.45,.05-.63,0-4.04,0-8.08-.02-12.13,0-.04-.01-.08-.04-.11-.02-.02-.07-.02-.2-.05-5.61,6.26-11.25,12.56-16.89,18.86M19.42,58.79c-.03,.09-.09,.19-.09,.3,0,3.38,0,6.77,0,10.15,0,.18-.01,.39,.25,.46,.55-.22,.89-.7,1.33-1.07,.21-.18,.44-.34,.69-.06,0,.08,.02,.17-.02,.22-.6,.76-1.46,1.22-2.25,1.94,.01,2.15-.07,4.36,.05,6.49,.34,.26,.61,.23,.88,.23,5.07,0,10.15,0,15.22,0,.21,0,.47,.08,.62-.33-5.4-6.02-10.84-12.08-16.28-18.14-.1-.11-.2-.25-.41-.19m16.63,38.96c-.67-.94-14.83-16.83-16.2-18.22-.1-.1-.19-.25-.41-.2-.03,.08-.1,.18-.1,.28,0,3.88,0,7.77,0,11.65,0,.1,.08,.2,.11,.28,.24,.05,.4-.06,.56-.17,.5-.35,1-.71,1.5-1.07,.19-.13,.37-.28,.56-.4,.14-.08,.31-.1,.42,.04,.11,.14,.07,.3-.06,.4-.15,.12-.31,.23-.47,.34-.66,.46-1.32,.93-2,1.37-.43,.27-.66,.59-.65,1.12,.02,1.31,0,2.61,.01,3.92,0,.23,.01,.47,.3,.66h16.43Z"/>
        </svg>

        <span class="sr-only">Juniper &amp; Elm Quilts</span>
      </NuxtLink>

      <NuxtLink v-if="showDrafts" to="/cart">
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" height="1em" fill="currentColor"><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg>
        <span class="sr-only">Items in cart:</span>
        <span>0</span>
      </NuxtLink>
    </header>

    <div id="main-nav" v-click-outside="explicitlyCloseMenu">
      <Navigation />

      <SocialMedia />
    </div>
  </div>
</template>

<style scoped lang="scss">
header {
  align-items: center;
  background-color: var(--header-background);
  display: flex;
  height: var(--header-height);
  justify-content: space-between;
  padding: var(--header-padding);
  transition: var(--header-tx);
  z-index: 1;
}

a {
  color: var(--header-foreground);
  transition: var(--header-link-tx);

  &[href="/"] {
    svg {
      height: auto;
      width: var(--header-width-svg);
    }
  }

  &[href="/cart"] {
    align-items: center;
    display: flex;
    gap: 0.5rem;
    height: 3rem;
    text-decoration: none;
  }
}

button {
  appearance: none;
  background-color: transparent;
  border: 0;
  display: var(--header-display-button);
  height: 3rem;
  position: relative;
  width: 3rem;

  &::after,
  &::before {
    background-color: var(--header-foreground);
    content: '';
    height: var(--line-width);
    left: var(--line-sides);
    position: absolute;
    right: var(--line-sides);
    transition: var(--menu-toggle-tx);
  }

  &::after {
    bottom: var(--line-position);
    transform: var(--line-tx-bottom);
  }

  &::before {
    top: var(--line-position);
    transform: var(--line-tx-top);
  }
}

#main-nav {
  align-items: center;
  background-color: var(--menu-background);
  bottom: var(--menu-bottom);
  display: flex;
  flex-flow: var(--menu-flow);
  height: var(--menu-height);
  justify-content: space-between;
  left: 0;
  margin: var(--menu-margin);
  opacity: var(--menu-opacity);
  padding: var(--menu-padding);
  position: var(--menu-position);
  right: 0;
  top: var(--menu-top);
  transition: none;
  z-index: var(--menu-layer);

  nav {
    &:nth-child(1) {
      display: var(--nav-pages-display);
      font-size: var(--nav-pages-font-size);
      gap: 1.25rem;
      text-align: var(--nav-pages-text-align);
    }

    &:nth-child(2) {
      gap: var(--nav-social-gap);

      :deep(svg) {
        height: var(--nav-social-height);
      }
    }
  }

  :deep(a) {
    color: var(--nav-link-color);
    text-decoration: none;

    &[aria-current="page"] {
      text-decoration: underline;
      text-decoration-thickness: 1px;
      text-underline-offset: var(--nav-link-offset);
    }
  }
}
</style>
